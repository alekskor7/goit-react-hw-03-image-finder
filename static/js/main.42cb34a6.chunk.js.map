{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","App.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Modal/Modal.jsx","components/ImageGallery/ImageGallery.jsx","components/Api/Api.jsx","components/Button/Button.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","query","handleChange","e","setState","target","value","handleSubmit","preventDefault","trim","props","onSubmit","className","Style","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","size","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","item","onClick","src","webformatURL","alt","tags","ImageGalleryItemImage","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","createPortal","Overlay","ImageGallery","imageIndex","showModal","toggleModal","index","items","map","handleClick","largeImageURL","API_KEY","Button","children","Status","App","images","page","isMoreAvailable","error","status","handleSearchSubmit","handleLoadMore","checkAvailability","itemsLength","prevProps","prevState","scrollY","snapshot","fetch","then","r","ok","json","Promise","reject","Error","fetchImagesByQuery","results","resultsCount","hits","length","scrollTo","top","innerHeight","left","behavior","catch","message","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.42cb34a6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3nTqi\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__NR0aK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__16YOY\",\"Modal\":\"Modal_Modal__bAGxV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1Dglp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1skPp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3Va1B\"};","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { BiSearchAlt2 } from 'react-icons/bi';\r\nimport Style from \"./Searchbar.module.css\";\r\n\r\nexport class Searchbar extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({ query: e.target.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const query = this.state.query.trim();\r\n    if (query) {\r\n      this.props.onSubmit(query);\r\n    }\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={Style.Searchbar}>\r\n        <form className={Style.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={Style.SearchFormButton} >\r\n            <span className={Style.SearchFormButtonLabel}><BiSearchAlt2 size=\"25px\" /></span>\r\n          </button>\r\n\r\n          <input\r\n            className={Style.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Style from \"./ImageGalleryItem.module.css\";\r\n\r\nfunction ImageGalleryItem({ item, onClick }) {\r\n  return (\r\n    <li className={Style.ImageGalleryItem} onClick={onClick}>\r\n      <img\r\n        src={item.webformatURL}\r\n        alt={item.tags}\r\n        className={Style.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  item: PropTypes.shape({\r\n    webformatURL: PropTypes.string.isRequired,\r\n    tags: PropTypes.string,\r\n  }).isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport Style from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport class Modal extends Component {\r\n  static propTypes = {\r\n    onClose: PropTypes.func.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={Style.Overlay} onClick={this.handleBackdropClick}>\r\n        <div ></div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport Modal from '../Modal/Modal';\r\nimport Style from \"./ImageGallery.module.css\";\r\n\r\nexport class ImageGallery extends Component {\r\n  state = {\r\n    imageIndex: null,\r\n    showModal: false,\r\n  };\r\n\r\n  static propTypes = {\r\n    items: PropTypes.arrayOf(PropTypes.object),\r\n  };\r\n\r\n  handleClick(index) {\r\n    this.setState({ imageIndex: index, showModal: true });\r\n  }\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <ul className={Style.ImageGallery}>\r\n          {this.props.items.map((item, index) => (\r\n            <ImageGalleryItem\r\n              key={index}\r\n              item={item}\r\n              onClick={() => {\r\n                this.handleClick(index);\r\n              }}\r\n            />\r\n          ))}\r\n        </ul>\r\n        {this.state.showModal && (\r\n          <Modal onClose={this.toggleModal}>\r\n            <img\r\n              src={this.props.items[this.state.imageIndex].largeImageURL}\r\n              alt={this.props.items[this.state.imageIndex].tags}\r\n            />\r\n          </Modal>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;","const API_KEY = '23523272-7e7e55898992c75b8603edf48';\r\nconst IMAGES_PER_PAGE = 12;\r\n\r\nfunction fetchImagesByQuery(query, page = 1) {\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${IMAGES_PER_PAGE}`,\r\n  ).then(r => {\r\n    if (r.ok) {\r\n      return r.json();\r\n    }\r\n    return Promise.reject(new Error(`Can't get images for ${query}`));\r\n  });\r\n}\r\n\r\nexport { fetchImagesByQuery, IMAGES_PER_PAGE };","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Style from \"./Button.module.css\";\r\n\r\n\r\nfunction Button(props) {\r\n  return (\r\n    <button type=\"button\" onClick={props.onClick} className={Style.Button}>\r\n      {props.children}\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;","import React, { Component } from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport Searchbar from './components/Searchbar/Searchbar';\r\nimport ImageGallery from './components/ImageGallery/ImageGallery';\r\nimport { fetchImagesByQuery, IMAGES_PER_PAGE } from './components/Api/Api';\r\nimport Button from './components/Button/Button';\r\nimport Style from \"./App.module.css\";\r\n\r\nconst Status = {\r\n  PENDING: 'pending',\r\n  RESOLVED: 'resolved',\r\n  REJECTED: 'rejected',\r\n  NEED_LOADING: 'needLoading',\r\n};\r\n\r\nexport class App extends Component {\r\n  state = {\r\n    query: '',\r\n    images: [],\r\n    page: 1,\r\n    isMoreAvailable: false,\r\n    error: null,\r\n    status: null,\r\n  };\r\n\r\n  getSnapshotBeforeUpdate(prevProps, prevState) {\r\n    return window.scrollY;\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    const { query, page, images } = this.state;\r\n    if (this.state.status === Status.NEED_LOADING) {\r\n      this.setState({ status: Status.PENDING });\r\n\r\n      fetchImagesByQuery(query, page)\r\n        .then(results => {\r\n          const resultsCount = results.hits.length;\r\n          if (resultsCount === 0) {\r\n            this.setState({\r\n              error: new Error(`No search results for ${query}`),\r\n              status: Status.REJECTED,\r\n            });\r\n            return;\r\n          }\r\n\r\n          const isMoreAvailable = this.checkAvailability(resultsCount);\r\n\r\n          this.setState({\r\n            images: [...images, ...results.hits],\r\n            isMoreAvailable,\r\n            status: Status.RESOLVED,\r\n          });\r\n        })\r\n        .then(() => {\r\n          if (page !== 1) {\r\n            window.scrollTo({\r\n              top: snapshot + window.innerHeight - 140,\r\n              left: 0,\r\n              behavior: 'smooth',\r\n            });\r\n          }\r\n        })\r\n        .catch(error => {\r\n          this.setState({ error, status: Status.REJECTED });\r\n        });\r\n    }\r\n  }\r\n\r\n  handleSearchSubmit = query => {\r\n    this.setState({ images: [], query, page: 1, status: Status.NEED_LOADING });\r\n  };\r\n\r\n  handleLoadMore = () => {\r\n    this.setState(() => ({\r\n      page: this.state.page + 1,\r\n      status: Status.NEED_LOADING,\r\n    }));\r\n  };\r\n\r\n  checkAvailability = itemsLength => {\r\n    return !(itemsLength < IMAGES_PER_PAGE);\r\n  };\r\n\r\n  render() {\r\n    const { error, status, isMoreAvailable, images } = this.state;\r\n\r\n    return (\r\n      <div className={Style.App}>\r\n        <Searchbar onSubmit={this.handleSearchSubmit} />\r\n        {status === Status.REJECTED && <div>{error.message}</div>}\r\n        <ImageGallery items={images} />\r\n        {status === Status.PENDING && (\r\n          <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\r\n        )}\r\n        {status === Status.RESOLVED && isMoreAvailable && (\r\n          <Button onClick={this.handleLoadMore}>Load more</Button>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App.js';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1iCvf\",\"SearchForm\":\"Searchbar_SearchForm__3w0tg\",\"SearchFormButton\":\"Searchbar_SearchFormButton__36Tfe\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3l4at\",\"SearchFormInput\":\"Searchbar_SearchFormInput__MUnnH\"};"],"sourceRoot":""}